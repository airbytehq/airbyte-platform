
{{/* DO NOT EDIT: This file was autogenerated. */}}

{{/*
    Datadog Configuration
*/}}

{{/*
Renders the datadog secret name
*/}}
{{- define "airbyte.datadog.secretName" }}
{{- if .Values.global.datadog.secretName }}
    {{- .Values.global.datadog.secretName | quote }}
{{- else }}
    {{- .Release.Name }}-airbyte-secrets
{{- end }}
{{- end }}

{{/*
Renders the global.datadog.agentHost value
*/}}
{{- define "airbyte.datadog.agentHost" }}
    {{- .Values.global.datadog.agentHost }}
{{- end }}

{{/*
Renders the datadog.agentHost environment variable
*/}}
{{- define "airbyte.datadog.agentHost.env" }}
- name: DD_AGENT_HOST
  valueFrom:
    fieldRef:
      fieldPath: status.hostIP
    
{{- end }}

{{/*
Renders the global.datadog.enabled value
*/}}
{{- define "airbyte.datadog.enabled" }}
    {{- .Values.global.datadog.enabled | default false }}
{{- end }}

{{/*
Renders the datadog.enabled environment variable
*/}}
{{- define "airbyte.datadog.enabled.env" }}
- name: DD_ENABLED
  valueFrom:
    configMapKeyRef:
      name: {{ .Release.Name }}-airbyte-env
      key: DD_ENABLED
{{- end }}

{{/*
Renders the global.datadog.env value
*/}}
{{- define "airbyte.datadog.env" }}
    {{- .Values.global.datadog.env }}
{{- end }}

{{/*
Renders the datadog.env environment variable
*/}}
{{- define "airbyte.datadog.env.env" }}
- name: DD_ENV
  valueFrom:
    configMapKeyRef:
      name: {{ .Release.Name }}-airbyte-env
      key: DD_ENV
{{- end }}

{{/*
Renders the global.datadog.service value
*/}}
{{- define "airbyte.datadog.service" }}
    {{- (printf "airbyte-%s" .Chart.Name) }}
{{- end }}

{{/*
Renders the datadog.service environment variable
*/}}
{{- define "airbyte.datadog.service.env" }}
- name: DD_SERVICE
  valueFrom:
    configMapKeyRef:
      name: {{ .Release.Name }}-airbyte-env
      key: DD_SERVICE
{{- end }}

{{/*
Renders the global.datadog.version value
*/}}
{{- define "airbyte.datadog.version" }}
    {{- .Values.global.image.tag }}
{{- end }}

{{/*
Renders the datadog.version environment variable
*/}}
{{- define "airbyte.datadog.version.env" }}
- name: DD_VERSION
  valueFrom:
    configMapKeyRef:
      name: {{ .Release.Name }}-airbyte-env
      key: DD_VERSION
{{- end }}

{{/*
Renders the global.datadog.statsd.port value
*/}}
{{- define "airbyte.datadog.statsd.port" }}
    {{- .Values.global.datadog.statsd.port }}
{{- end }}

{{/*
Renders the datadog.statsd.port environment variable
*/}}
{{- define "airbyte.datadog.statsd.port.env" }}
- name: DD_DOGSTATSD_PORT
  valueFrom:
    configMapKeyRef:
      name: {{ .Release.Name }}-airbyte-env
      key: DD_DOGSTATSD_PORT
{{- end }}

{{/*
Renders the global.datadog.traceAgentPort value
*/}}
{{- define "airbyte.datadog.traceAgentPort" }}
    {{- .Values.global.datadog.traceAgentPort }}
{{- end }}

{{/*
Renders the datadog.traceAgentPort environment variable
*/}}
{{- define "airbyte.datadog.traceAgentPort.env" }}
- name: DD_TRACE_AGENT_PORT
  valueFrom:
    configMapKeyRef:
      name: {{ .Release.Name }}-airbyte-env
      key: DD_TRACE_AGENT_PORT
{{- end }}

{{/*
Renders the global.datadog.integrations.dbm.enabled value
*/}}
{{- define "airbyte.datadog.integrations.dbm.enabled" }}
    {{- .Values.global.datadog.integrations.dbm.enabled | default false }}
{{- end }}

{{/*
Renders the datadog.integrations.dbm.enabled environment variable
*/}}
{{- define "airbyte.datadog.integrations.dbm.enabled.env" }}
- name: DD_INTEGRATION_DBM_ENABLED
  valueFrom:
    configMapKeyRef:
      name: {{ .Release.Name }}-airbyte-env
      key: DD_INTEGRATION_DBM_ENABLED
{{- end }}

{{/*
Renders the global.datadog.integrations.dbm.propagationMode value
*/}}
{{- define "airbyte.datadog.integrations.dbm.propagationMode" }}
    {{- .Values.global.datadog.integrations.dbm.propagationMode | default "full" }}
{{- end }}

{{/*
Renders the datadog.integrations.dbm.propagationMode environment variable
*/}}
{{- define "airbyte.datadog.integrations.dbm.propagationMode.env" }}
- name: DD_INTEGRATION_DBM_PROPAGATION_MODE
  valueFrom:
    configMapKeyRef:
      name: {{ .Release.Name }}-airbyte-env
      key: DD_INTEGRATION_DBM_PROPAGATION_MODE
{{- end }}

{{/*
Renders the global.datadog.integrations.googleHttpClient.enabled value
*/}}
{{- define "airbyte.datadog.integrations.googleHttpClient.enabled" }}
    {{- .Values.global.datadog.integrations.googleHttpClient.enabled | default false }}
{{- end }}

{{/*
Renders the datadog.integrations.googleHttpClient.enabled environment variable
*/}}
{{- define "airbyte.datadog.integrations.googleHttpClient.enabled.env" }}
- name: DD_INTEGRATION_GOOGLE_HTTP_CLIENT_ENABLED
  valueFrom:
    configMapKeyRef:
      name: {{ .Release.Name }}-airbyte-env
      key: DD_INTEGRATION_GOOGLE_HTTP_CLIENT_ENABLED
{{- end }}

{{/*
Renders the global.datadog.integrations.grpc.enabled value
*/}}
{{- define "airbyte.datadog.integrations.grpc.enabled" }}
    {{- .Values.global.datadog.integrations.grpc.enabled | default false }}
{{- end }}

{{/*
Renders the datadog.integrations.grpc.enabled environment variable
*/}}
{{- define "airbyte.datadog.integrations.grpc.enabled.env" }}
- name: DD_INTEGRATION_GRPC_ENABLED
  valueFrom:
    configMapKeyRef:
      name: {{ .Release.Name }}-airbyte-env
      key: DD_INTEGRATION_GRPC_ENABLED
{{- end }}

{{/*
Renders the global.datadog.integrations.grpc.clientEnabled value
*/}}
{{- define "airbyte.datadog.integrations.grpc.clientEnabled" }}
    {{- .Values.global.datadog.integrations.grpc.clientEnabled | default false }}
{{- end }}

{{/*
Renders the datadog.integrations.grpc.clientEnabled environment variable
*/}}
{{- define "airbyte.datadog.integrations.grpc.clientEnabled.env" }}
- name: DD_INTEGRATION_GRPC_CLIENT_ENABLED
  valueFrom:
    configMapKeyRef:
      name: {{ .Release.Name }}-airbyte-env
      key: DD_INTEGRATION_GRPC_CLIENT_ENABLED
{{- end }}

{{/*
Renders the global.datadog.integrations.grpc.serverEnabled value
*/}}
{{- define "airbyte.datadog.integrations.grpc.serverEnabled" }}
    {{- .Values.global.datadog.integrations.grpc.serverEnabled | default false }}
{{- end }}

{{/*
Renders the datadog.integrations.grpc.serverEnabled environment variable
*/}}
{{- define "airbyte.datadog.integrations.grpc.serverEnabled.env" }}
- name: DD_INTEGRATION_GRPC_SERVER_ENABLED
  valueFrom:
    configMapKeyRef:
      name: {{ .Release.Name }}-airbyte-env
      key: DD_INTEGRATION_GRPC_SERVER_ENABLED
{{- end }}

{{/*
Renders the global.datadog.integrations.httpUrlConnection.enabled value
*/}}
{{- define "airbyte.datadog.integrations.httpUrlConnection.enabled" }}
    {{- .Values.global.datadog.integrations.httpUrlConnection.enabled | default false }}
{{- end }}

{{/*
Renders the datadog.integrations.httpUrlConnection.enabled environment variable
*/}}
{{- define "airbyte.datadog.integrations.httpUrlConnection.enabled.env" }}
- name: DD_INTEGRATION_HTTPURLCONNECTION_ENABLED
  valueFrom:
    configMapKeyRef:
      name: {{ .Release.Name }}-airbyte-env
      key: DD_INTEGRATION_HTTPURLCONNECTION_ENABLED
{{- end }}

{{/*
Renders the global.datadog.integrations.netty.enabled value
*/}}
{{- define "airbyte.datadog.integrations.netty.enabled" }}
    {{- .Values.global.datadog.integrations.netty.enabled | default false }}
{{- end }}

{{/*
Renders the datadog.integrations.netty.enabled environment variable
*/}}
{{- define "airbyte.datadog.integrations.netty.enabled.env" }}
- name: DD_INTEGRATION_NETTY_ENABLED
  valueFrom:
    configMapKeyRef:
      name: {{ .Release.Name }}-airbyte-env
      key: DD_INTEGRATION_NETTY_ENABLED
{{- end }}

{{/*
Renders the global.datadog.integrations.netty41.enabled value
*/}}
{{- define "airbyte.datadog.integrations.netty41.enabled" }}
    {{- .Values.global.datadog.integrations.netty41.enabled | default false }}
{{- end }}

{{/*
Renders the datadog.integrations.netty41.enabled environment variable
*/}}
{{- define "airbyte.datadog.integrations.netty41.enabled.env" }}
- name: DD_INTEGRATION_NETTY_4_1_ENABLED
  valueFrom:
    configMapKeyRef:
      name: {{ .Release.Name }}-airbyte-env
      key: DD_INTEGRATION_NETTY_4_1_ENABLED
{{- end }}

{{/*
Renders the global.datadog.integrations.urlConnection.enabled value
*/}}
{{- define "airbyte.datadog.integrations.urlConnection.enabled" }}
    {{- .Values.global.datadog.integrations.urlConnection.enabled | default false }}
{{- end }}

{{/*
Renders the datadog.integrations.urlConnection.enabled environment variable
*/}}
{{- define "airbyte.datadog.integrations.urlConnection.enabled.env" }}
- name: DD_INTEGRATION_URLCONNECTION_ENABLED
  valueFrom:
    configMapKeyRef:
      name: {{ .Release.Name }}-airbyte-env
      key: DD_INTEGRATION_URLCONNECTION_ENABLED
{{- end }}

{{/*
Renders the set of all datadog environment variables
*/}}
{{- define "airbyte.datadog.envs" }}
{{- include "airbyte.datadog.agentHost.env" . }}
{{- include "airbyte.datadog.enabled.env" . }}
{{- include "airbyte.datadog.env.env" . }}
{{- include "airbyte.datadog.service.env" . }}
{{- include "airbyte.datadog.version.env" . }}
{{- include "airbyte.datadog.statsd.port.env" . }}
{{- include "airbyte.datadog.traceAgentPort.env" . }}
{{- include "airbyte.datadog.integrations.dbm.enabled.env" . }}
{{- include "airbyte.datadog.integrations.dbm.propagationMode.env" . }}
{{- include "airbyte.datadog.integrations.googleHttpClient.enabled.env" . }}
{{- include "airbyte.datadog.integrations.grpc.enabled.env" . }}
{{- include "airbyte.datadog.integrations.grpc.clientEnabled.env" . }}
{{- include "airbyte.datadog.integrations.grpc.serverEnabled.env" . }}
{{- include "airbyte.datadog.integrations.httpUrlConnection.enabled.env" . }}
{{- include "airbyte.datadog.integrations.netty.enabled.env" . }}
{{- include "airbyte.datadog.integrations.netty41.enabled.env" . }}
{{- include "airbyte.datadog.integrations.urlConnection.enabled.env" . }}
{{- end }}

{{/*
Renders the set of all datadog config map variables
*/}}
{{- define "airbyte.datadog.configVars" }}
DD_AGENT_HOST: {{ include "airbyte.datadog.agentHost" . | quote }}
DD_ENABLED: {{ include "airbyte.datadog.enabled" . | quote }}
DD_ENV: {{ include "airbyte.datadog.env" . | quote }}
DD_SERVICE: {{ (printf "airbyte-%s" .Chart.Name) | quote }}
DD_VERSION: {{ .Values.global.image.tag | quote }}
DD_DOGSTATSD_PORT: {{ include "airbyte.datadog.statsd.port" . | quote }}
DD_TRACE_AGENT_PORT: {{ include "airbyte.datadog.traceAgentPort" . | quote }}
DD_INTEGRATION_DBM_ENABLED: {{ include "airbyte.datadog.integrations.dbm.enabled" . | quote }}
DD_INTEGRATION_DBM_PROPAGATION_MODE: {{ include "airbyte.datadog.integrations.dbm.propagationMode" . | quote }}
DD_INTEGRATION_GOOGLE_HTTP_CLIENT_ENABLED: {{ include "airbyte.datadog.integrations.googleHttpClient.enabled" . | quote }}
DD_INTEGRATION_GRPC_ENABLED: {{ include "airbyte.datadog.integrations.grpc.enabled" . | quote }}
DD_INTEGRATION_GRPC_CLIENT_ENABLED: {{ include "airbyte.datadog.integrations.grpc.clientEnabled" . | quote }}
DD_INTEGRATION_GRPC_SERVER_ENABLED: {{ include "airbyte.datadog.integrations.grpc.serverEnabled" . | quote }}
DD_INTEGRATION_HTTPURLCONNECTION_ENABLED: {{ include "airbyte.datadog.integrations.httpUrlConnection.enabled" . | quote }}
DD_INTEGRATION_NETTY_ENABLED: {{ include "airbyte.datadog.integrations.netty.enabled" . | quote }}
DD_INTEGRATION_NETTY_4_1_ENABLED: {{ include "airbyte.datadog.integrations.netty41.enabled" . | quote }}
DD_INTEGRATION_URLCONNECTION_ENABLED: {{ include "airbyte.datadog.integrations.urlConnection.enabled" . | quote }}
{{- end }}
